<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buzzword Trends in Political Newspapers</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        header {
            text-align: center;
            margin-bottom: 50px;
        }
        section {
            margin-bottom: 50px;
        }
        .dropdown {
            margin-bottom: 20px;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <h1>Buzzword Trends in Political Newspapers</h1>
    </header>

    <section>
        <h2>Word Cloud</h2>
        <div class="dropdown">
            <label for="yearSelect">Select Year:</label>
            <select id="yearSelect" onchange="updateWordCloud()">
                <!-- Options will be populated dynamically -->
            </select>
        </div>
        <div class="dropdown">
            <label for="wordCloudIssueSelect">Select Issue:</label>
            <select id="wordCloudIssueSelect" onchange="updateWordCloud()">
                <!-- Options will be populated dynamically -->
            </select>
        </div>
        <div id="wordCloudContainer">
            <!-- Word cloud will be rendered here -->
            <img id="wordCloud" alt="Word Cloud">
        </div>
    </section>

    <section>
        <h2>Most Important Issues</h2>
        <div class="dropdown">
            <label for="yearSelectIssues">Select Year:</label>
            <select id="yearSelectIssues" onchange="updateLineChart()">
                <!-- Options will be populated dynamically -->
            </select>
        </div>
        <div class="dropdown">
            <label for="issueSelect">Select Issue:</label>
            <select id="issueSelect" onchange="updateLineChart()">
                <!-- Options will be populated dynamically -->
            </select>
        </div>
        <div class="dropdown">
            <label for="demographicSelect">Select Demographic:</label>
            <select id="demographicSelect" onchange="updateLineChart()">
                <!-- Options will be populated dynamically -->
            </select>
        </div>
        <canvas id="lineChart"></canvas>
    </section>

    <script>
        function updateWordCloud() {
            const year = document.getElementById('yearSelect').value;
            const issue = document.getElementById('wordCloudIssueSelect').value;
            // Fetch the new word cloud image based on the selected year and issue
            document.getElementById('wordCloud').src = `wordcloud_${year}_${issue}.png`;
        }

        function updateLineChart() {
            const year = document.getElementById('yearSelectIssues').value;
            const issue = document.getElementById('issueSelect').value;
            const demographic = document.getElementById('demographicSelect').value;
            // Fetch and update the line chart data based on the selected year, issue, and demographic
            // (This part will be handled by Python backend generating the data dynamically)
        }

        // Example to populate dropdowns, you can modify this based on actual data
        document.addEventListener('DOMContentLoaded', () => {
            // Populate year dropdowns
            const years = [2020, 2021, 2022, 2023];
            const yearSelect = document.getElementById('yearSelect');
            const yearSelectIssues = document.getElementById('yearSelectIssues');
            years.forEach(year => {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                yearSelect.appendChild(option);
                yearSelectIssues.appendChild(option.cloneNode(true));
            });

            // Populate issue dropdowns
            const issues = ['Economy', 'Healthcare', 'Education', 'Environment'];
            const issueSelect = document.getElementById('issueSelect');
            const wordCloudIssueSelect = document.getElementById('wordCloudIssueSelect');
            issues.forEach(issue => {
                const option = document.createElement('option');
                option.value = issue;
                option.textContent = issue;
                issueSelect.appendChild(option);
                wordCloudIssueSelect.appendChild(option.cloneNode(true));
            });

            // Populate demographic dropdown
            const demographics = ['Adults', 'Teens', 'Seniors', 'Children'];
            const demographicSelect = document.getElementById('demographicSelect');
            demographics.forEach(demographic => {
                const option = document.createElement('option');
                option.value = demographic;
                option.textContent = demographic;
                demographicSelect.appendChild(option);
            });
        });
    </script>
</body>
</html>
